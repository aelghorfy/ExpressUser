<html>
    <%- include('./partials/head.ejs'); %>
                <body>
                    <%- include('./partials/nav.ejs'); %>

                    <label><h2>Create a new post</h2></label>
                    <form method='POST' action='/marketplace' id="postForm" enctype="multipart/form-data">
                        <label for="postTitle">Post Title:</label>
                        <input type="text" id="postTitle" name="title" required>
                      
                        <label for="postContent">Content:</label>
                        <textarea id="postContent" name="content" required></textarea>
                      
                        <label for="postPrice">Price (â‚¬):</label>
                        <input type="number" id="postPrice" name="price" min="0" step="0.1" placeholder="Price in euros" required><br>
                      
                        <label for="postImage">Upload an Image:</label>
                        <input type="file" id="postImage" name="image" accept=".jpg, .jpeg, .png">
                      
                        <button type="submit">Submit</button>
                      </form>
                      

                </body>
                <script>
                    function validateFileSize() {
                       const fileInput = document.getElementById('postImage');
                       const file = fileInput.files[0];
                       const maxSize = 2 * 1024 * 1024;
                
                        if (file.size > maxSize) {
                            alert('File size exceeds 2MB. Please upload a smaller file.');
                            return false;
                        }
                        return true;
                    }
                </script>
                
                <%- include('./partials/footer.ejs'); %>
            </html>